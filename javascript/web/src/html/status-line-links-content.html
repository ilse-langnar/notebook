<div id="status-line-links-content" class="content" x-data="{ selected: ($store.links && $store.links.length) ? $store.links[0] : '', linked: true }" >

    <div x-show="!$store.links.length" >
        <h1> There is no links to analize, press <code>shift+click</code> to add one (: </h1>
    </div>

    <div style="float: left; margin-left: 10px; " >
        <img :src="linked ? ilse.require('brackets.svg') : ilse.require('brackets-off.svg')" style="width: 20px;" title="Toggle " alt="Toggle" @click="linked = !linked" >
    </div>

    <template x-for="(item, index) in $store.links" :key="index" >
        <div style="float: left; margin-left: 10px; " >
            <span x-text="item" @click="selected = item" :style="selected === item ? 'cursor: pointer; padding: 2px; border-radius: var( --border-radius ); color: var( --background-color ); background: var( --text-color );' : 'cursor: pointer;' " ></span>
        </div>
    </template>
    <br>
    <hr>


    <template x-for="(item, index) in $store.links" :key="index" >
        <div x-show="selected === item" x-data="{ list: linked ? ilse.query(item) : ilse.query_regexp( new RegExp( '^' + item, 'ig') ) }" >

            <template x-for="( _item, _index ) in list" :key=" '_' + _index" >
                <div style="display: flex;" >
                    <span style="flex: 1; margin-left:10px; flex-shrink: 2; flex-basis: 1%; " > &bull; </span>
                    <p    style="flex: 1; padding-left: 15px; flex-basis: 99%; min-width: 100px;" x-html="ilse.markdown.render(_item.content)" ></p>
                </div>
            </template>
        </div>
    </template>

</div>

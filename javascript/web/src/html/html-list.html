<div data-ilse-id="html-list.html" data-ilse-icon="lupe.svg" >
    <div id="search" style="overflow: auto; height: 100%; border; 2px solid #000; " data-ilse-props="{ props: { on_enter() {}, on_click(){}, show_more: false, search: '', list: [], pointer: -1, prepend_search: '', append_search: '', placeholder: '', on_input: function(){} } }" >

        <!-- wrapper -->
        <div x-data="{ is_options_on: false }" x-init="props.init()" >

            <div class="flex space-between" >

                <img :src="props.icon ? api.require( props.icon ) : api.require('logo.svg')" style="width: 30px; margin-left: 10px; cursor: pointer; " >

                <!-- <img :src="api.require('chevron-down.svg')" style="width: 20px; cursor: pointer; " > -->

                <input id="search-input"
                    x-model="props.search"
                    autocomplete="off"
                    @keydown.up.prevent=""
                    @keydown.down.prevent=""
                    @input="props.on_input($el)"
                    @keydown.enter="props.on_enter()"
                    :placeholder="props.placeholder ? props.placeholder : 'Search for Something ...' "
                    title="[[Ilse]] [[Programming]] - [[Ilse]] AND [[Programming]] - [[Ilse]] NOT [[Programming]] - #ilse - #math/topology"
                    x-init="document.getElementById('search-input') ? document.getElementById('search-input').focus() : null; setTimeout( () => { search = '' }, 100 ) "
                    style="color: var( --secondary ); background: var( --primary ); border-radius: var( --border-radius ); width: 90%; margin-top: 10px; margin-bottom: 10px;"/>

                <img :src="api.require('x.svg')" style="width: 20px; margin-right: 10px; cursor: pointer; " @click="api.get('stack').pop()" >

            </div>

            <hr x-show="props.list.length" style="margin-bottom: 3px;" >

            <!-- grid -->
            <div x-show="props.list.length" style="display: flex; overflow: hidden;" >

                <template x-for="(item, index) in props.list" :key="index" >
                    <div>
                        <p class="bullet" > &bull; </p>
                        <p class="render" x-html="api.markdown(item.replaceAll('/n', '<br>'))" @click="props.on_click($el, item, index)" > </p>
                    </div>
                </template>

            </div>
            <!-- grid -->
        </div>
        <!-- wrapper -->

    </div>
    <style>

    #search .note {
        border-left: 1px solid #000;
    }

    #search .render:hover {
        text-decoration: underline;
    }

    #search .bullet {
        margin-top:   5px;
        text-align:   center;
        cursor:       pointer;
        color:        #a3a3a3;
        color:        var( --secondary );
        /* font-size: 1.5em; */
        width: 20px;
        cursor:       pointer;
        margin-right: 7px;
        margin-right: 0px;
        width: 10px;
        height: 10px;

        flex: 1;
        display: block;
        float: left;
        margin-right: 6px;
    }



    #search .result {
        display: flex;
    }

    #search input:focus {
        outline: 3px solid transparent;
        border-color: hsl(var(--input-focus-h), var(--input-focus-s), var(--input-focus-l));
        border: 2px solid rgb(124, 138, 255);
    }

    #search input:not([type="checkbox"]) {
        transition: 180ms box-shadow ease-in-out;
        width: 100%;
        color: rgb(36, 35, 42);
        font-size: 16px;
        line-height: 20px;
        min-height: 28px;
        border-radius: 4px;
        padding: 8px 16px;
        border: 2px solid transparent;
        box-shadow: rgb(0 0 0 / 12%) 0px 1px 3px, rgb(0 0 0 / 24%) 0px 1px 2px;
        background: rgb(251, 251, 251);
        transition: all 0.1s ease 0s;
    }

    #search .render {
        cursor: pointer;
        margin-bottom: 5px;
        color: var( --secondary );
        background: var( --primary );
        text-align: left;
        padding: 3px;
    }

    #search .render:hover {
        text-decoration: underline;
    }
    </style>
</template>

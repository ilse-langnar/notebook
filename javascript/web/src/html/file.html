<div data-ilse-id="file.html" data-ilse-icon="app-window.svg" >
    <div id="file_html" x-transition x-data="{}" style="overflow: hidden; " >

        <style>
            #file_html textarea {
                font-family: "Verdana", sans-serif; /* or any other legible font of your choice */
                padding: 10px;
                border: none;
                border-radius: 5px;
                box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1); /* or any other shadow style you prefer */
                background-color: #f5f5f5; /* or any other monochromatic color you prefer */
                color: #333; /* or any other text color that provides good contrast with the background */
                resize: none; /* prevents the user from resizing the textarea */
                width: 100%; /* makes the textarea responsive to its container */
                height: 150px; /* sets a default height for the textarea */
                font-size: 16px; /* sets a default font size for the text */
                line-height: 1.5; /* sets a default line height for the text */
                white-space: pre-line;
                height: 92vh;
                height: 82vh;



                padding: 20px;
                box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);
                border: 1px solid #b7b0b0;
                border-radius: 10px;
                border: 1px solid #454545;
                background: var( --primary );
                box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);
                border: 1.8px solid #b7b0b0; 
                margin-top: 5px;
            }

            #file_html textarea:focus {
                outline: none !important;
            }

            #file_html input {
                display: block;
                margin: 0 auto;
                height: 30px;
                margin: 3px;
                border-radius: var( --border-radius );
                border: 1px solid var( --secondary );
                border: 1px solid transparent;
                padding: 3px;
                color: var( --secondary );
                background: var( --primary );
                box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);
                border: 1px solid #b7b0b0;
                width: 90%; 
                display: block;
                margin: 0 auto !important;
                margin-bottom: 5px;
            }

            #file_html .top-menu {
                display: flex;
                justify-content: spaced-between;
            }

            #file_html .top-menu p {
                flex: 1;
            }

        </style>


        <div x-data="{ is_saving: false, save: null, content: props.file === null ? '' : api.fs.readFileSync(props.file), file: props.file === null ? '' : props.file, }" x-init="" >

            <!-- <p x-text=" 'content: ' + content "> </p>
            <p x-text=" 'file: ' + file "> </p> -->

            <div class="top-menu" style="" >
                <input type="text" name="file-name" x-model="file" placeholder="File Name" style="" >
                <span x-show="save === null" > - </span>
                <!-- <span x-show="save === 'saved' " > (: </span> -->
                <span x-show="save === 'saved' " > &check; </span> 
                

                <span x-show="typeof save === 'number' " > ... </span>
            </div>

            <textarea x-model="content" @input="console.log('save -> ', save); clearTimeout(save); save  = setTimeout( () => {
                if( file && file.indexOf('/') === -1 ) {
                    api.fs.writeFileSync( file, content )
                    save = 'saved'
                }
                console.log('file -> ', file)
            }, 1000 )" > </textarea>

        </div>
    </div>
</template> 
